<!doctype html><meta content="text/html; charset=UTF-8" http-equiv=Content-Type><meta charset=utf-8><title>Generalized rules - Semantic Web Reasoning With EYE</title><!--[if lt IE 9]><script src="../../html5-enabled.js"></script><![endif]--><link href=http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css media=all rel=stylesheet type=text/css><link href=../../style.css media=screen rel=stylesheet type=text/css><body><header>Semantic Web Reasoning With EYE</header><article><h1>Generalized rules</h1><p>We are now able to execute rules.<br> However, what's the benefit of a long rule when we could have written a simple triple?<h2>We need reusable rules</h2><p>Looking back at the <a href=../#cindy-knows-rule title="A simple rule">“Cindy knows” rule</a>, we might realize that it was not that great after all.<br> Suppose Cindy also knows Eliza and Kate. Do you think the rule will work out?<h3>Example: “Cindy also knows Eliza and Kate”</h3><div class=eye><p>Execute this command if you have downloaded the example files:<pre><code>eye <a class=data href=../../n3/cindy-eliza-kate.n3>cindy-eliza-kate.n3</a> <a class=data href=../../n3/cindy-rule.n3>cindy-rule.n3</a> --query <a class=query href=../../n3/query-all.n3>query-all.n3</a> --nope</code></pre><p>Alternatively, execute this command to use the online example files:<pre><code>eye <a href=../../n3/cindy-eliza-kate.n3>http://n3.restdesc.org/n3/cindy-eliza-kate.n3</a> <a href=../../n3/cindy-rule.n3>http://n3.restdesc.org/n3/cindy-rule.n3</a> --query <a href=../../n3/query-all.n3>http://n3.restdesc.org/n3/query-all.n3</a> --nope</code></pre></div><p>Well, the rule <em>does</em> work out, but only as much as it can. The reasoner returns our 3 initial facts, and the only additional thing it could deduce: that John knows Cindy.<h2>Variables enable reusable rules</h2><p>But it shouldn't be just John. Eliza and Kate also know Cindy. <br> In fact, everyone that Cindy knows, also knows her. (At least in <a href=http://xmlns.com/foaf/spec/#term_knows title="Property: foaf:knows">the <code>foaf</code> sense of "knows"</a>.)<br> To state this, we need a way to express "everyone".<p>In predicate logic, an operator called the <a href=http://en.wikipedia.org/wiki/Universal_quantifier title="Universal quantification">universal quantificator</a> exists, which looks like this:<blockquote><p><img alt="for all x, P(x) implies Q(x)" src=../img/forall-p-implies-q.png></blockquote><p>The above reads <em>"for all x, P of x implies Q of x"</em> or, more naturally: <em>"if P is true for x, so is Q"</em>.<br> We can also express this in N3.<pre><code>{
  ppl:Cindy foaf:knows <strong>?someone</strong>.
}
=&gt;
{
  <strong>?someone</strong> foaf:knows ppl:Cindy.
}.
</code></pre><p><p>In this snippet, <code>?someone</code> is a variable which will be filled in when the rule is executed. Variables in N3 can be recognized by a leading question mark <code>?</code>.<p><em><strong>Note:</strong> you may have seen I sometimes omit <a href=../../n3/contexts/#namespaces title=Contexts>namespace declarations</a> from snippets. This is only for clarity — a valid Notation3 document requires all used namespaces be declared.</em><h3>Example: the <em>“Cindy knows”</em> rule with variable</h3><div class=eye><p>Execute this command if you have downloaded the example files:<pre><code>eye <a class=data href=../../n3/cindy-eliza-kate.n3>cindy-eliza-kate.n3</a> <a class=data href=../../n3/cindy-rule-var.n3>cindy-rule-var.n3</a> --query <a class=query href=../../n3/query-all.n3>query-all.n3</a> --nope</code></pre><p>Alternatively, execute this command to use the online example files:<pre><code>eye <a href=../../n3/cindy-eliza-kate.n3>http://n3.restdesc.org/n3/cindy-eliza-kate.n3</a> <a href=../../n3/cindy-rule-var.n3>http://n3.restdesc.org/n3/cindy-rule-var.n3</a> --query <a href=../../n3/query-all.n3>http://n3.restdesc.org/n3/query-all.n3</a> --nope</code></pre></div><p>This is where rules really get interesting. Variables open the gate to lots of new facts.<p>You may have wondered why Cindy is still part of the rule.<br> After all, if John would know Eliza, she also knows John, right? Let's fix that.<pre><code>{
  <strong>?personA</strong> foaf:knows <strong>?personB</strong>.
}
=&gt;
{
  <strong>?personB</strong> foaf:knows <strong>?personA</strong>.
}.
</code></pre><p><p>We have now generalized the rule for all persons. Note there is no limit to the number of variables you can use, and you can choose their name. Try to play around with the next example, which shows the generalized rule.<h3>Example: generalized "knows" rule</h3><div class=eye><p>Execute this command if you have downloaded the example files:<pre><code>eye <a class=data href=../../n3/friends.n3>friends.n3</a> <a class=data href=../../n3/knows-rule.n3>knows-rule.n3</a> --query <a class=query href=../../n3/query-all.n3>query-all.n3</a> --nope</code></pre><p>Alternatively, execute this command to use the online example files:<pre><code>eye <a href=../../n3/friends.n3>http://n3.restdesc.org/n3/friends.n3</a> <a href=../../n3/knows-rule.n3>http://n3.restdesc.org/n3/knows-rule.n3</a> --query <a href=../../n3/query-all.n3>http://n3.restdesc.org/n3/query-all.n3</a> --nope</code></pre></div><h2>Next</h2><p>We <a href=../substantiating-knowledge/ title="Substantiating knowledge">continue to the next level</a> and reason about predicate classes.<h2>References</h2><ul><li><a href=http://en.wikipedia.org/wiki/Universal_quantification title="Universal quantification"><em>Universal quantification</em> on Wikipedia</a><li><a href=http://en.wikipedia.org/wiki/Variable_%28computer_science%29 title=Variable><em>Variable</em> on Wikipedia</a></ul></article><aside><h1>Contents</h1><ul><li><a href=../../>Home</a><li><a href=../../n3/>Writing Notation3</a><li><a href=../../n3/contexts/>Contexts</a><li><a href=../>A simple rule</a><li><a href=../executing-rules/>Executing rules</a><li><span class=active title="You&apos;re here.">Generalized rules</span><li><a href=../substantiating-knowledge/>Substantiating knowledge</a></ul></aside><footer><p>© 2011 <a href=http://multimedialab.elis.ugent.be>Multimedia Lab — ELIS / Ghent University</a>. Authored by <a href=http://ruben.verborgh.org/>Ruben Verborgh</a>.</footer> <script src=http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js></script> <script src=http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js></script> <script src=../../scripts.js></script>